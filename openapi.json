{"openapi":"3.0.2","info":{"title":"Parking Spaces API (eu-production)","version":"1.0.0rc5"},"paths":{"/health":{"get":{"summary":"Health Check","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/functional-health":{"get":{"summary":"Functional Health Check","description":"Check that tile38 can connect, and if so responds with some meta data about the API and tile38 data.","operationId":"functional_health_check_functional_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/v1/parking-spaces":{"get":{"summary":"Parking Spaces Get Query","description":"Query parking spaces and associated static information","operationId":"parking_spaces_get_query_v1_parking_spaces_get","parameters":[{"required":false,"schema":{"title":"Longitude","type":"number"},"name":"longitude","in":"query","example":16.366667,"description":"Longitude of centre point from which to search for rids, should be provided with latitude, but without rids or other geo queries"},{"required":false,"schema":{"title":"Latitude","type":"number"},"name":"latitude","in":"query","example":48.2,"description":"Latitude of centre point from which to search for rids, should be provided with longitude, but without rids or other geo queries"},{"required":false,"schema":{"title":"Geometry Wkt","type":"string"},"name":"geometry_wkt","in":"query","description":"WKT String geometry, such as a route or area. Provide only one geometry parameter or rids."},{"required":false,"schema":{"title":"Geometry Wkb","type":"string"},"name":"geometry_wkb","in":"query","description":"WKB base64 encoded geometry, such as a route or area. Provide only one geometry parameter or rids."},{"required":false,"schema":{"title":"Geojson","type":"string"},"name":"geojson","in":"query","description":"GeoJSON features (LineString, Point and Polygon only). Provide only one geometry parameter or rids."},{"required":false,"schema":{"title":"Buffer Radius M","type":"number"},"name":"buffer_radius_m","in":"query","description":"Search within this many meters from the provided geometry for rids (intersect)","example":500},{"required":false,"schema":{"title":"Rids","type":"array","items":{"type":"integer"}},"name":"rids","in":"query","description":"A list of rids for which to retrieve static information. Provide this or geometry parameters."},{"required":false,"schema":{"title":"Limit","maximum":100000.0,"minimum":0.0,"type":"integer","default":10000},"name":"limit","in":"query","description":"Maximum number of rids to be returned"},{"required":false,"schema":{"type":"array","items":{"$ref":"#/components/schemas/ParkingSpacesStaticDataFields"},"default":["rid"]},"name":"fields","in":"query","description":"Which fields to return of `StaticDataFields`. Note the following fields are deprecated and will be removed will occur in the final v1.0.0 release:\n1. `grestr` will be removed in favour of `restrictions`\n2. `flags` will be removed in favour of `flag_names`\n3. `surface` will be removed in favour of `surface_name`"},{"required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/ParkingSpaceTypeFiltering"}],"default":"no-filtering"},"name":"parking_spaces_type_filtering","in":"query","description":"Filter results to only on-street or off-street locations if required. Does not apply to rids queries."},{"required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/EVFiltering"}],"default":"no-filtering"},"name":"ev_filtering","in":"query","description":"Filter results to only EV or non-EV locations if required. Does not apply to rids queries."},{"required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/DisabledFiltering"}],"default":"no-filtering"},"name":"disabled_filtering","in":"query","description":"Filter results to only disabled or non-disabled locations if required. Does not apply to rids queries."},{"required":false,"schema":{"title":"Country","type":"string"},"name":"country","in":"query","description":"Filter results to a specific country. Optional. Does not apply to rids queries."},{"required":false,"schema":{"type":"array","items":{"$ref":"#/components/schemas/SurfaceTypes"},"default":[]},"name":"surface_names","in":"query","description":"Filter results to ones that have one of the selected ``SurfaceTypes`` options. Optional.Does not apply to rids queries."},{"required":false,"schema":{"type":"array","items":{"$ref":"#/components/schemas/RestrictionTypes"},"default":[]},"name":"restrictions","in":"query","description":"Filter parking-spaces down to ones for which any of the selected ``RestrictionTypes`` flags are on. Optional. Does not apply to rids queries."},{"required":false,"schema":{"type":"array","items":{"$ref":"#/components/schemas/CategoryTypes"},"default":[]},"name":"categories","in":"query","description":"Filter parking-spaces down to ones for which any of the selected ``CategoryTypes`` flags are on. Optional. Does not apply to rids queries."},{"required":false,"schema":{"title":"Hd Maps Dummy Spaces","type":"boolean","default":false},"name":"hd_maps_dummy_spaces","in":"query","description":"Show hd-maps dummy cities instead of normal parking spaces. Default is that only normal parking spaces are shown."},{"required":false,"schema":{"title":"Hd Maps Covered Off Street","type":"boolean"},"name":"hd_maps_covered_off_street","in":"query","description":"Filter parking-spaces down to those which qualify as 'covered off-street' for HD-maps use cases. Optional. Does not apply to rids queries."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"summary":"Parking Spaces Post Query","description":"Perform multiple queries on parking spaces in batch. Takes as input a list of individual queries and returns the results for each as an array of arrays. See the schema of the `GET /parking-spaces` endpoint for the query parameters of an individual query.","operationId":"parking_spaces_post_query_v1_parking_spaces_post","requestBody":{"content":{"application/json":{"schema":{"title":"List Of Args","type":"array","items":{"$ref":"#/components/schemas/ParkingSpacesQuery"}},"examples":{"Munich 1000m buffer":{"description":"Retrieve all parking locations that are within 1,000m of a point in Munich","value":[{"longitude":11.582341,"latitude":48.151161,"buffer_radius_m":1000.0}]},"London office 500m buffer":{"description":"Retrieve all parking locations and their geometries within 500m of the office.","value":[{"longitude":-0.090907,"latitude":51.50123,"buffer_radius_m":500.0,"fields":["rid","geometry"]}]},"Matching several park out events":{"description":"Check if some park out events are within 5 meters of an on-street parking location","value":[{"longitude":4.865752,"latitude":44.938689,"buffer_radius_m":5.0},{"longitude":-3.23448,"latitude":51.488078,"buffer_radius_m":5.0},{"longitude":12.115467,"latitude":49.026416,"buffer_radius_m":5.0},{"longitude":23.703489,"latitude":37.970731,"buffer_radius_m":5.0}]},"Parking locations along WKT route":{"description":"Finding parking spaces within 200m of a route across Munich provided as WKT.","value":[{"geometry_wkt":"LINESTRING (11.5774302236622 48.1525848020458,11.5747304067722 48.1481876140204,11.5668294720501 48.1504392332717,11.5622239020613 48.1432601966987,11.5615092446492 48.1419355414768,11.5607945872372 48.1392331388265,11.5612313223223 48.1391006644507,11.5607151808581 48.1341988722277,11.558650615001 48.1344903432296,11.5583726926741 48.1295881108426)","buffer_radius_m":200.0}]},"Parking locations along WKB route":{"description":"Finding parking spaces within 200m of a route across Munich provided as WKB.","value":[{"geometry_wkb":"AQIAAAAKAAAAxbMs76QnJ0ChUxfmhxNIQO40WhBDJidA6PHNz/cSSEBvuvl4NyInQPh3wZdBE0hA/cOwz9sfJ0DZ0aFZVhJIQAdXxCN+HydANmSe8SoSSEBK6td3IB8nQL7jOGTSEUhA8Lo9tlkfJ0B1VfIMzhFIQAJQaA8WHydAZLC7bS0RSECgoxJ0Bx4nQETmxPo2EUhAiQeMBuMdJ0B7At1XlhBIQA==","buffer_radius_m":200.0}]},"Specifying individual parking locations by ID":{"description":"Retrieve individual parking location geometries in Munich by rid.","value":[{"rids":[2530826,2339472,2339471,2339470,380142],"limit":10000,"fields":["rid","geometry"],"parking_spaces_type_filtering":"no-filtering","ev_filtering":"no-filtering","disabled_filtering":"no-filtering","surface_names":[],"restrictions":[],"categories":[],"hd_maps_dummy_spaces":false}]}}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/geometry-definitions":{"get":{"summary":"Get Geometry Definitions","description":"Get all geometry definitions for a given type of geometry, options specified in `GeometryTypes`.","operationId":"get_geometry_definitions_v1_geometry_definitions_get","parameters":[{"description":"The type of geometry to get all definitions for.","required":true,"schema":{"allOf":[{"$ref":"#/components/schemas/GeometryTypes"}],"description":"The type of geometry to get all definitions for."},"name":"geometry_type","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/geometries":{"get":{"summary":"Geometries Get Query","description":"Query geometries and associated static information. To view a set of geometries to specify a type of geometry to query (e.g. city) and a specific definiton of this type (e.g. gsap and ospi are both valid definitions of cities that are supported by this endpoint). All available geometry types are specified by the `GeometryTypes` enum. To see the available definitions for a given type, use the `/geometry-definitions` endpoint.\nThis endpoint supports the following types of queries:\n1. If a set of IDs are provided, the geometries for those IDs will be returned. Note that no additional filters are applied when this type of query is requested, as specified in the documentation.\n2. If a geometry is provided, a geospatial query of the type specified by the `GeospatialSearchType`  is performed on the data.\n3. If neither of the above two query types are requested, All available geometries are returned.","operationId":"geometries_get_query_v1_geometries_get","parameters":[{"required":true,"schema":{"$ref":"#/components/schemas/GeometryTypes"},"name":"geometry_type","in":"query","description":"The type of geometries to return. E.g cities. See the ``/geometry-definitions`` endpoint for different city types and their definitions."},{"required":true,"schema":{"title":"Geometry Definition","type":"string"},"name":"geometry_definition","in":"query","description":"The particular definition of a certain geometry type. E.g. for cities you can query OSPI cities. See the ``/geometry-definitions`` endpoint for different city types and their definitions."},{"required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/GeospatialSearchType"}],"default":"intersects"},"name":"geospatial_search_type","in":"query","description":"The type of geospatial query to perform. Only used if doing a geospatial query, e.g ``intersects``."},{"required":false,"schema":{"title":"Longitude","type":"number"},"name":"longitude","in":"query","example":16.366667,"description":"Longitude of centre point from which to search for rids, should be provided with latitude, but without rids or other geo queries"},{"required":false,"schema":{"title":"Latitude","type":"number"},"name":"latitude","in":"query","example":48.2,"description":"Latitude of centre point from which to search for rids, should be provided with longitude, but without rids or other geo queries"},{"required":false,"schema":{"title":"Geometry Wkt","type":"string"},"name":"geometry_wkt","in":"query","description":"WKT String geometry, such as a route or area. Provide only one geometry parameter or rids."},{"required":false,"schema":{"title":"Geometry Wkb","type":"string"},"name":"geometry_wkb","in":"query","description":"WKB base64 encoded geometry, such as a route or area. Provide only one geometry parameter or rids."},{"required":false,"schema":{"title":"Geojson","type":"string"},"name":"geojson","in":"query","description":"GeoJSON features (LineString, Point and Polygon only). Provide only one geometry parameter or rids."},{"required":false,"schema":{"title":"Buffer Radius M","type":"number"},"name":"buffer_radius_m","in":"query","description":"Search within this many meters from the provided geometry for rids (intersect)","example":500},{"required":false,"schema":{"title":"Ids","type":"array","items":{"type":"string"}},"name":"ids","in":"query","description":"A list of ids for which to retrieve static information. Provide this or geometry parameters."},{"required":false,"schema":{"type":"array","items":{"$ref":"#/components/schemas/GeometriesStaticDataFields"},"default":["id"]},"name":"fields","in":"query","description":"Which fields to return of ``GeometriesStaticDataFields``"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"summary":"Geometries Post Query","description":"Perform multiple queries on geometries in  batch. Takes as input a list of individual queries and returns the results for each as an array of arrays. See the schema of the `GET /geometries` endpoint for the query parameters of an individual query.","operationId":"geometries_post_query_v1_geometries_post","requestBody":{"content":{"application/json":{"schema":{"title":"List Of Args","type":"array","items":{"$ref":"#/components/schemas/GeometriesQuery"}},"examples":{"All geometries":{"description":"Retrieve all gsap cities that are stored","value":[{"geometry_type":"city","geometry_definition":"gsap"}]},"Munich 50km buffer Intersect":{"description":"Retrieve all gsap city IDs that intersect a circle of radius 50km centered on Munich","value":[{"geometry_type":"city","geometry_definition":"gsap","longitude":11.582341,"latitude":48.151161,"buffer_radius_m":50000.0}]},"Munich 50km buffer Within":{"description":"Retrieve all gsap city IDs that are within 50km of Munich","value":[{"geometry_type":"city","geometry_definition":"gsap","geospatial_search_type":"within","longitude":11.582341,"latitude":48.151161,"buffer_radius_m":50000.0}]},"Munich 50km buffer Nearby":{"description":"Retrieve all gsap city IDs that are within 50km of Munich, ordered by distance","value":[{"geometry_type":"city","geometry_definition":"gsap","geospatial_search_type":"nearby","longitude":11.582341,"latitude":48.151161,"buffer_radius_m":50000.0}]},"London office 200km buffer Intersect":{"description":"Retrieve all gsap city IDs+Geometries that are within 200km of London.","value":[{"geometry_type":"city","geometry_definition":"gsap","longitude":-0.090907,"latitude":51.50123,"buffer_radius_m":200000.0,"fields":["id","geometry"]}]},"Cities along WKT route":{"description":"Finding cities within 200km of a route across Munich provided as WKT.","value":[{"geometry_type":"city","geometry_definition":"gsap","geometry_wkt":"LINESTRING (11.5774302236622 48.1525848020458,11.5747304067722 48.1481876140204,11.5668294720501 48.1504392332717,11.5622239020613 48.1432601966987,11.5615092446492 48.1419355414768,11.5607945872372 48.1392331388265,11.5612313223223 48.1391006644507,11.5607151808581 48.1341988722277,11.558650615001 48.1344903432296,11.5583726926741 48.1295881108426)","buffer_radius_m":200.0}]},"Cities along WKB route":{"description":"Finding cities within 200km of a route across Munich provided as WKB.","value":[{"geometry_type":"city","geometry_definition":"gsap","geometry_wkb":"AQIAAAAKAAAAxbMs76QnJ0ChUxfmhxNIQO40WhBDJidA6PHNz/cSSEBvuvl4NyInQPh3wZdBE0hA/cOwz9sfJ0DZ0aFZVhJIQAdXxCN+HydANmSe8SoSSEBK6td3IB8nQL7jOGTSEUhA8Lo9tlkfJ0B1VfIMzhFIQAJQaA8WHydAZLC7bS0RSECgoxJ0Bx4nQETmxPo2EUhAiQeMBuMdJ0B7At1XlhBIQA==","buffer_radius_m":200.0}]},"Specifying individual cities by ID":{"description":"Retrieve individual city geometries in Munich by rid.","value":[{"geometry_type":"city","geometry_definition":"gsap","ids":["20b72447-585f-47df-8198-88a411f05b59","5d71e21c-5d74-464b-b2ec-744b8a42df87"],"fields":["id","geometry","name","data"]}]}}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"CategoryTypes":{"title":"CategoryTypes","enum":["NOTSET","VALET_ONLY","AIRPORT_ONSITE","AIRPORT_OFFSITE","TRANSPORT_STATION","CIVIC_CENTRE","SPORTS_ARENA","UNIVERSITY","HOSPITAL","HOTEL","RETAIL","OFFICE","RESIDENTIAL","AIRPORT_MEET_AND_GREET","RESTAURANT","PARK","MUSEUM","LIBRARY","BEACH","PARK_AND_RIDE","COMMERCIAL","MUNICIPAL","ENTERTAINMENT"],"type":"string","description":"The list of possible categories for parking-spaces, see class ``ParkingCategory``"},"DisabledFiltering":{"title":"DisabledFiltering","enum":["no-filtering","disabled-only","non-disabled-only"],"type":"string","description":"Specifying no, disabled only or non-disabled only filtering for the ``parking-spaces`` endpoint"},"EVFiltering":{"title":"EVFiltering","enum":["no-filtering","ev-only","non-ev-only"],"type":"string","description":"Specifying no, EV only or non-EV only filtering for the ``parking-spaces`` endpoint"},"GeometriesQuery":{"title":"GeometriesQuery","required":["geometry_type","geometry_definition"],"type":"object","properties":{"geometry_type":{"$ref":"#/components/schemas/GeometryTypes"},"geometry_definition":{"title":"Geometry Definition","type":"string"},"geospatial_search_type":{"allOf":[{"$ref":"#/components/schemas/GeospatialSearchType"}],"default":"intersects"},"longitude":{"title":"Longitude","type":"number"},"latitude":{"title":"Latitude","type":"number"},"geometry_wkt":{"title":"Geometry Wkt","type":"string"},"geometry_wkb":{"title":"Geometry Wkb","type":"string"},"geojson":{"title":"Geojson","type":"string"},"buffer_radius_m":{"title":"Buffer Radius M","type":"number"},"ids":{"title":"Ids","type":"array","items":{"type":"string"}},"fields":{"type":"array","items":{"$ref":"#/components/schemas/GeometriesStaticDataFields"},"default":["id"]}},"description":"Parameters for a single geometries query.\n\nThese are the query parameters used in the GET geometries request, and the POST geometries request processes\na list of such query objects."},"GeometriesStaticDataFields":{"title":"GeometriesStaticDataFields","enum":["id","name","data","geometry"],"type":"string","description":"Fields which can be returned by the ``geometries`` endpoint"},"GeometryTypes":{"title":"GeometryTypes","enum":["city"],"type":"string","description":"The types of geometries that are supported for querying."},"GeospatialSearchType":{"title":"GeospatialSearchType","enum":["intersects","within","nearby"],"type":"string","description":"The type of geospatial query that is being used."},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"ParkingSpaceTypeFiltering":{"title":"ParkingSpaceTypeFiltering","enum":["no-filtering","on-street-only","off-street-only"],"type":"string","description":"Specifying no, on-street or off-street filtering for the ``parking-spaces`` endpoint"},"ParkingSpacesQuery":{"title":"ParkingSpacesQuery","type":"object","properties":{"longitude":{"title":"Longitude","type":"number"},"latitude":{"title":"Latitude","type":"number"},"geometry_wkt":{"title":"Geometry Wkt","type":"string"},"geometry_wkb":{"title":"Geometry Wkb","type":"string"},"geojson":{"title":"Geojson","type":"string"},"buffer_radius_m":{"title":"Buffer Radius M","type":"number"},"rids":{"title":"Rids","type":"array","items":{"type":"integer"}},"limit":{"title":"Limit","maximum":100000.0,"minimum":0.0,"type":"integer","default":10000},"fields":{"type":"array","items":{"$ref":"#/components/schemas/ParkingSpacesStaticDataFields"},"default":["rid"]},"parking_spaces_type_filtering":{"allOf":[{"$ref":"#/components/schemas/ParkingSpaceTypeFiltering"}],"default":"no-filtering"},"ev_filtering":{"allOf":[{"$ref":"#/components/schemas/EVFiltering"}],"default":"no-filtering"},"disabled_filtering":{"allOf":[{"$ref":"#/components/schemas/DisabledFiltering"}],"default":"no-filtering"},"country":{"title":"Country","type":"string"},"surface_names":{"type":"array","items":{"$ref":"#/components/schemas/SurfaceTypes"},"default":[]},"restrictions":{"type":"array","items":{"$ref":"#/components/schemas/RestrictionTypes"},"default":[]},"categories":{"type":"array","items":{"$ref":"#/components/schemas/CategoryTypes"},"default":[]},"hd_maps_dummy_spaces":{"title":"Hd Maps Dummy Spaces","type":"boolean","default":false},"hd_maps_covered_off_street":{"title":"Hd Maps Covered Off Street","type":"boolean"}},"description":"Parameters for a single parking spaces query."},"ParkingSpacesStaticDataFields":{"title":"ParkingSpacesStaticDataFields","enum":["rid","pstid","num","title","latitude","longitude","timezone","country","geometry","psid","numdisabled","shorturl","url","grestr","restrictions","flags","flag_names","surface","surface_name","ev_only","disabled_only","categories","vendor_name","street","height"],"type":"string","description":"Fields which can be returned by the ``parking-spaces`` endpoint"},"RestrictionTypes":{"title":"RestrictionTypes","enum":["NO_PARKING","PERMIT_HOLDERS_ONLY","RESIDENTS_ONLY","CUSTOMERS_ONLY","EMPLOYEES_ONLY","MAXSTAY","MONTHLY_ONLY","MOTORCYCLES_ONLY","DISABLED_ONLY","NO_SUV","NO_LPG","BIKES_ONLY","VALET_ONLY","VISITORS_ONLY","EVENTS_ONLY","NO_RESTR_OUT_HOURS","COACH_ONLY","LOADING_ONLY","TAXI_ONLY","CAR_CLUB_ONLY","EV_ONLY","BOOKING_ONLY"],"type":"string","description":"The list of possible restrictions for parking-spaces, see class ``Grestr``"},"SurfaceTypes":{"title":"SurfaceTypes","enum":["UNKNOWN","MULTISTOREY","NOTCOVERED","COVERED","UNDERGROUND","PARTIALLYCOVERED","MECHANICAL","MULTISTOREY_OPENTOP","LAST"],"type":"string","description":"An enumeration."},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}}}}